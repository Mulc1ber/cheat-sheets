---
sidebar_position: 1
---

# Основные команды в Git

Команды необходимые для минимальной работы с Git

---

> [Официальный сайт Git](https://git-scm.com/)

---

## Начало работы

### Проверка установки

```bash title="Проверить версию Git"
git --version
```

### Создание (Инициализация) репозитория

Создание нового репозитория или получение его по существующему URL-адресу

```bash title="Инициализирует git в папке проекта"
git init
```

```bash title="Создаёт новый локальный репозиторий с заданным именем"
git init [название_проекта]
```

```bash title="Скачивание/клонирование репозитория вместе со всей его историей изменений"
git clone [url-адрес]
```

## Настройка Git

### Настройка пользователя

Настройка информации о пользователе для всех локальных репозиториев

```bash title="Устанавливает имя, которое будет отображаться в поле автора у выполняемых вами коммитов"
git config --global user.name "[имя]"
```

```bash title="Устанавливает адрес электронной почты, который будет отображаться в информации о выполняемых вами коммитах"
git config --global user.email "[адрес_электронной_почты]"
```

### Проверка настроек

```bash
git config --list
```

```bash
git config user.name
```

### Настройки коммитов

```bash title="Команда, которая позваляет узнать какой редактор откроется для коммита"
git config --global core
```

```bash title="Команда, которая позволяет установить нужный для разработчика редактор, в котором будет совершаться коммит."
git config --global core.editor "code --wait -n"
```

---

## Работа с файлами

Просмотр изменений и создание коммитов (фиксация изменений)

### Состояние репозитория

```bash title="Перечисляет все новые или изменённые файлы, которые нуждаются в фиксации"
git status
```

### Добавление файлов

```bash title="Индексирует указанный файл для последующего коммита"
git add [файл]
```

```bash title="Индексирует все файлы для последующего коммита"
git add .
```

### Просмотр изменений

```bash title="Показывает различия по внесённым изменениям в ещё не проиндексированных файлах"
git diff
```

```bash title="Показывает различия между проиндексированной и последней зафиксированной версиями файлов"
git diff --staged
```

### Удаление и перемещение

Перемещение и удаление версий файлов репозитория

```bash title="Удаляет конкретный файл из рабочей директории и индексирует его удаление"
git rm [файл]
```

```bash title="Убирает конкретный файл из контроля версий, но физически оставляет его на своём месте"
git rm --cached [файл]
```

```bash title="Перемещает и переименовывает указанный файл, сразу индексируя его для последующего коммита"
git mv [оригинальный_файл] [новое_имя]
```

---

## Коммиты

### Создание коммитов

```bash title="Фиксирует проиндексированные изменения и сохраняет их в историю версий"
git commit -m "[сообщение с описанием]"
```

```bash
git commit --amend -m "[новое_сообщение]"
```

### Отмена действий

Удаление ошибок и корректировка созданной истории

```bash title="Отменяет все коммиты после заданного, оставляя все изменения в рабочей директории"
git reset [коммит]
```

```bash title="Удаляет файл из промежуточной области"
git reset [имя_файла]
```

```bash title="Альтернатива через указать HEAD"
git reset HEAD~1
```

```bash title="Сбрасывает всю историю вместе с состоянием рабочей директории до указанного коммита."
git reset --hard [коммит]
```

```bash title="Альтернатива через указать HEAD"
git reset -hard HEAD~1
```

## Ветки

### Просмотр веток

Именованные серии коммитов и соединение результатов работы

```bash title="Список веток с указанием выбранной ветки"
git branch
```

```bash title="Список всех веток (локальные и удаленные)"
git branch -a
```

```bash title="Список только удаленных веток"
git branch -r
```

```bash title="Список веток с информацией о связях (с указанием установленных upstream связей)"
git branch -vv
```

### Создание веток

```bash title="Создаёт новую ветку"
git branch [имя_ветки]
```

```bash title="Современная команда"
git switch -c [имя_ветки]
```

### Переключение между ветками

```bash title="Переключается на выбранную ветку"
git checkout [имя_ветки]
```

```bash title="Создает с переключением на новую ветку"
git checkout -b [имя_ветки]
```

```bash title="Перемещение к конкретному коммиту"
git checkout [hash_коммита]
```

```bash title="Чистое переключение на удаленную ветку, которой нет локально"
git checkout -b [имя_ветки] [origin/имя_ветки]
```

```bash title="Переключается на выбранную ветку и обновляет рабочую директорию до её состояния"
git switch -c [имя_ветки]
```

### Удаление веток

```bash title="Удаляет выбранную ветку с проверкой на слияние"
git branch -d [имя_ветки]
```

```bash title="Принудительное удаление ветки"
git branch -D [имя_ветки]
```

### Слияние веток

```bash title="Вносит изменения указанной ветки в текущую ветку"
git merge [имя_ветки]
```

> Перед слиянием веток необходимо перейти в ту ветку, в которую будут заливаться изменения. Далее прописываем команду и указывает имя ветки, которую хотим слить `git merge <name-branch>`.

```bash title="Вносит изменения из ветки удалённого репозитория в текущую ветку локального репозитория"
git merge [удалённый_репозиторий]/[ветка]
```

```bash title="Вносит изменения указанной ветки в текущую ветку перемещая указать HEAD вверх"
git rebase [имя_ветки]
```

---

## История

### Просмотр истории

Просмотр и изучение истории изменений файлов проекта

```bash title="История коммитов для текущей ветки"
git log
```

```bash title="История комитов в сжатом формате"
git log --oneline
```

```bash title=""
git log --graph --oneline
```

```bash title="Выводит информацию и показывает изменения в выбранном коммите"
git show [коммит]
```

```bash title="История изменений конкретного файла, включая его переименование"
git log --follow [файл]
```

### Сравнение

```bash title="Показывает разницу между содержанием коммитов двух веток"
git diff [первая_ветка]...[вторая_ветка]
```

---

## Удаленные репозитории

### Просмотр удаленных репозиториев

Проверка привязки проекта к удаленному репозиторию

```bash title="Команда, которая Выводит информацию в виде ссылки на привязанный удаленный репозиторий"
git remote -v
```

Пример вывода информации

```bash title="В случае клонирования с помощью HTTPS"
origin https://github.com/<USER_NAME>/<REPO>.git (fetch)
origin https://github.com/<USER_NAME>/<REPO>.git (push)
```

```bash title="В случае клонирования с помощью SSH"
origin git@github.com:<USER_NAME>/<REPO>.git (fetch)
origin git@github.com:<USER_NAME>/<REPO>.git (push)
```

```bash title=""
git remote show origin
```

### Работа с удаленными репозиториями

```bash title="Привязка проекта к удаленному репозиторию"
git remote add origin https://github.com/<USER_NAME>/<REPO>.git
```

```bash title="Удаление удаленного источника"
git remote rm [name_remote]
```

```bash
git remote rename [старое] [новое]
```

### Синхронизация

Регистрация удалённого репозитория и обмен изменениями

```bash title="Скачивает всю историю из удалённого репозитория"
git fetch [удалённый_репозиторий]
```

```bash title="Загружает историю из удалённого репозитория и объединяет её с локальной. pull = fetch + merge"
git pull
```

```bash title="Загружает все изменения локальной ветки в удалённый репозиторий"
git push [удалённый_репозиторий] [ветка]
```

```bash title="Загружает все изменения локальной ветки в удалённый репозиторий И осуществляет привязку локальной ветки к удаленной "
git push -u origin [ветка]
```

---

## Временное сохранение (Stash)

Сохранение и восстановление незавершённых изменений

```bash title="Временно сохраняет все незафиксированные изменения отслеживаемых файлов"
git stash
```

```bash title="Выводит список всех временных сохранений"
git stash list
```

```bash title="Восстанавливает состояние ранее сохранённых версий файлов"
git stash pop
```

```bash title="Восстанавливает состояние ранее сохранённых версий файлов"
git stash pop stash@{n}
```

```bash title="Сбрасывает последние временно сохранённыe изменения"
git stash drop
```

---

## Игнорирование файлов

### .gitignore

Исключение временных и вторичных файлов и директорий

```bash title="Игнорирование файлов и директорий, перечисленные в файле .gitignore с помощью wildcard синтаксиса"
# Логи
*.log

# Папки
node_modules/
build/
dist/

# Файлы ОС
.DS_Store
Thumbs.db

# Временные файлы
*.tmp
*.temp
```

```bash title="Список всех игнорируемых файлов в текущем проекте"
git ls-files --others --ignored --exclude-standard
```
